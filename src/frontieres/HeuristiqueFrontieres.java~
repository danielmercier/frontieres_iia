package frontieres;

public class HeuristiqueFrontieres {
	
	public static final int MODE1 = 0;
	public static final int MODE2 = 1;
	public static final int MODE3 = 2;
	
	public static final float MIN_HEUR = -Float.MAX_VALUE;
	public static final float MAX_HEUR = Float.MAX_VALUE;
<<<<<<< HEAD
	public static float TIE_HEUR = -100; 	// évolutif
=======
	public static final float TIE_HEUR = 0.001f;
>>>>>>> 2b193864f3c671533ccb6eb0b239d48767e39a48
	
	private int mode;
	private Joueur joueur;
	private float expAvancee;
	private float coefPrises;
	private float coefBloqueurs;
	
	public void setExpAvancee(float ea) {
		// TODO : recalculer TIE_HEUR
		expAvancee = ea;
	}
	
	public void setCoefPrises(float cp) {
		// TODO : recalculer TIE_HEUR
		coefPrises = cp;
	}
	
	public void setCoefBloqueurs(float cb) {
		// TODO : recalculer TIE_HEUR
		coefPrises = cb;
	}
	
	public HeuristiqueFrontieres(int mode, Joueur joueur) {
		this.mode = mode;
		this.joueur = joueur;
	}
	
	public float eval(PlateauFrontieres board) {
		// heuristique toujours calculée par rapport au joueur (jmax) passé au constructeur
		float h = 0;
		if(mode == MODE1) {
			h = board.getNbPrisesX(joueur) - board.getNbPrisesX(board.getOther(joueur));
			if(board.getXwins(joueur))
				h = MAX_HEUR;
			else if(board.getXwins(board.getOther(joueur)))
				h = MIN_HEUR;
			else if(board.getTie())
				h = TIE_HEUR;
		}
		else if(mode == MODE2) {
			expAvancee = 1.2f;
			coefPrises = 1000;
			float diffPrises = board.getNbPrisesX(joueur) - board.getNbPrisesX(board.getOther(joueur));
			float diffAvancee = board.getAvanceeX(joueur, expAvancee) - board.getAvanceeX(board.getOther(joueur), expAvancee);
			h = coefPrises * diffPrises + diffAvancee;
			if(board.getXwins(joueur))
				h = MAX_HEUR;
			else if(board.getXwins(board.getOther(joueur)))
				h = MIN_HEUR;
			else if(board.getTie())
				h = TIE_HEUR;
		}
		else if(mode == MODE3) {
			// fin de partie
		}
		return h;
	}
}
